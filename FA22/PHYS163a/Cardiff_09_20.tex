\documentclass{beamer}

\usepackage[italicdiff]{physics}
\usepackage{hyperref}
\usepackage{url}

\newcommand{\dbar}{d\hspace*{-0.08em}\bar{}\hspace*{0.1em}}
\newcommand{\D}{\partial}
\renewcommand{\L}{\mathcal{L}}

\newenvironment{itemframe}[1]{\begin{frame}{#1}\begin{itemize}}   {\end{itemize}\end{frame}}

% Changes style of actual slides
\usetheme{Dresden}
% Changes color of slides
\usecolortheme{spruce}
% removes controls at bottom right side
\usenavigationsymbolstemplate{}

% for figures
\graphicspath{ {./figs/} }

\title{Lagrange Multipliers}
\author{Michael Cardiff}
\subtitle{PHYS 163a \ 09/20 Prep Work}

\begin{document}

\begin{frame}
  \titlepage
\end{frame}
\section{Lagrange Multipliers}
\begin{frame}{Intuition}
  \begin{columns}
    \begin{column}{0.4\textwidth}
      \begin{itemize}
      \item How do we usually find extrema of $f(x)$ on any interval?
      \item Take the derivative, set it equal to $0$, solve for $x$
      \item Can easily generalize to functions of multiple variables
      \item Lagrange multipliers help with \textbf{constraints}
      \end{itemize}
    \end{column}
    \begin{column}{0.6\textwidth}
      \begin{figure}[H]
        \centering
        \includegraphics[width=5.0cm]{minmax.png}
        \caption{Typical Example of Maxima finding}
      \end{figure}
    \end{column}
  \end{columns}
\end{frame}
\begin{frame}{Lagrange Multipliers}
  \begin{itemize}
  \item Find extrema of a function $f(\vb{x})$ subject to constraints $g_i(\vb{x})=0$.
  \item Requirements of solution $\vb{x}_0$:
    \begin{itemize}
    \item Moving $\vb{x}$ in any direction increases $f(\vb{x})$ for minima and decreases $f(\vb{x})$ for maxima
    \item The constraints are obeyed: $g_i(\vb{x}_0)=0$ for all $i$
    \end{itemize}
  \item Go by example first to get intuition.
  \end{itemize}
\end{frame}
\begin{frame}{Lagrange Multiplier Example}
  \begin{columns}
    \begin{column}{0.5\textwidth}
      \begin{itemize}
      \item We want to find the maximum value of $f(x,y)=2x+y$ on the unit circle
      \item Identify function and constraints:
        \begin{gather*}
          f(x,y)=2x+y\\
          g(x,y)=x^2+y^2-1=0
        \end{gather*}
      \item Plot contours of $f(x,y)=k$ and $g(x,y)=0$
      \end{itemize}
    \end{column}
    \begin{column}{0.5\textwidth}
      \begin{figure}[H]
        \centering
        \includegraphics[width=5.0cm]{gradient1.png}
        \caption{Contours of $f$ and plot of $g(x,y)=0$}
      \end{figure}
    \end{column}
  \end{columns}
\end{frame}
\begin{frame}{Example Continued}
  \begin{itemize}
  \item Note $k$ increases as the contour line moves to the right
  \item Maxima (Minima): Largest (smallest) value of $k$
  \item Matching constraint: Contour line intersects contraint
  \item Notice the largest (smallest) value of $k$ that still has a values on the red circle is the one that that is barely touches it without going over.
  \item In math talk, they are tangent.
  \item In 1-D, tangent=derivative, in $n$ dimensions, it is the gradient
  \item Idea of Lagrange multipliers: Gradient of $f$ and $g$ are parallel at a maximum
  \end{itemize}
\end{frame}
\begin{frame}{Equations of Lagrange Multipliers}
  \begin{itemize}
  \item Gradients should be in the same direction at this point
  \item Not necessarily same rate, so introduce Lagrange multiplier $\lambda$, which quantifies this difference:
    \begin{align*}
      \grad{f(x,y)}=\lambda\grad{g(x,y)}
    \end{align*}
  \item This is only two equations, and now we have 3 unknowns
  \item The third equation will come from constraint!
    \begin{align*}
      g(x,y)=0
    \end{align*}
  \end{itemize}
\end{frame}
\section{Example}
\begin{frame}{Worked Out Example}
  \begin{itemize}
  \item Maximize $f(x,y)=2x+y$ on unit circle $x^2+y^2=1$
  \item Gradient of $f$ and $g$:
    \begin{gather*}
      \grad{f}=\ev{2,1}\\
      \lambda\grad{g}=\ev{2\lambda x,2\lambda y}
    \end{gather*}
  \item We can eliminate $x$ or $y$ using the constraint equation:
    \begin{align*}
      g(x,y)=0\implies x=\pm\sqrt{1-y^2}
    \end{align*}
  \item Then it is a simple system of equations:
    \begin{align*}
      \begin{cases}
        2=\pm2\lambda\sqrt{1-y^2}\\
        1=2\lambda y
      \end{cases}
    \end{align*}
  \end{itemize}
\end{frame}
\begin{frame}{Example Continued}
  \begin{itemize}
  \item The second equation yields:
    \begin{align*}
      \lambda=\frac1{2y}
    \end{align*}
  \item Subbing into the first:
    \begin{align*}
      2y=\pm\sqrt{1-y^2}
    \end{align*}
  \item Square both sides:
    \begin{align*}
      4y^2=1-y^2\implies \abs{y}=\frac1{\sqrt{5}}
    \end{align*}
  \item Using relationship between $x,y$:
    \begin{align*}
      x=\pm\sqrt{1-\qty(\frac1{\sqrt{5}})^2}=\pm\frac{2}{\sqrt{5}}
    \end{align*}
  \end{itemize}
\end{frame}
\begin{frame}{Answer?}
  \begin{itemize}
  \item Using some generality we got both the maxima and minima:
    \begin{align*}
      \ev{x,y}=\ev{\pm\frac2{\sqrt{5}},\pm\frac1{\sqrt{5}}}
    \end{align*}
  \item Giving a function value of $\pm\sqrt{5}$
  \end{itemize}
\end{frame}

\section{Takeaways \& Generalizations}
\begin{frame}{Takeaways}
  \begin{itemize}
  \item A function is maximized with respect to another function when their gradients are in the same direction.
  \item Mathematically:
    \begin{align*}
      \grad{f}=\lambda\grad{g}
    \end{align*}
  \item This leads to $n$ equations where $f$ is a function of $n$ variables
  \item For each constraint you will get another $\lambda$, but the constraint equation provides an equation, giving a solveable system. 
  \end{itemize}
\end{frame}
\begin{frame}{Generalization}
  \begin{itemize}
  \item Doing Lagrange Multipliers does not really look like normal optimization
  \item Introduce Lagrangian $\L$:
    \begin{align*}
      \L=f(\vb{x})-\lambda_i(g_i(\vb{x})-c_i)
    \end{align*}
    Where constraints are $g_i=c_i$
  \item Notice $\D_{\lambda_i}\L$ gives te constraint equation.
  \item So if we modify the gradient to include derivatives of $\lambda_i$, we can encode the constraints via this Lagrangian.
  \item Normally we do $\grad=\ev{\pdv{x},\pdv{y},\pdv{z}}$, now use $\grad_{\vb{x},\{\lambda_i\}}$ with a component for each of $\vb{x}$ and each constraint
  \end{itemize}
\end{frame}
\end{document}